# Logging Vonage API Dat to Datadog in a Ruby on Rails Application

## Pre-requisites

To run this demo application, you will need the following:

- [Ruby](https://www.ruby-lang.org/en/documentation/installation/) installed
- A [Vonage Developer](https://developer.vonage.com/sign-up) account
- A [Datadog Account](https://ap1.datadoghq.com/signup), with:
  - The appropriate [Datadog Agent](https://docs.datadoghq.com/agent/) installed on your system
  - The Datadog [Ruby Integration](https://docs.datadoghq.com/integrations/ruby/) installed and configured
- [Ngrok](https://ngrok.com/download), or similar tunnelling software, installed

## Running the Demo

1. Clone the repo: `git clone https://github.com/Vonage-Community/demo-messages-rails-datadog.git`
2. `cd` into the repo directory and run `bundle install`
3. Copy or rename `.env.dist` to `.env`
4. In the [Vonage Dashboard](https://dashboard.nexmo.com/), create a new application and enable it for the Messages API:
    - Set the the Application ID from that Vonage Application as `VONAGE_APPLICATION_ID` in the `.env` file
    - Download the Private Key to the root of the Rails application
5. In the repo directory, run `rails s`
6. In a separate Terminal tab, run `ngrok http 3000`:
    - Copy the URI generated by Ngrok
    - In the Vonage Application you created, set the Messages Status URL as that URI plus `/status`, and save the updated settings.
7. Navigate to `localhost:3000` and make some Messages requests be submitting the form. You should see the logs in your Datadog Ruby integration logs.

